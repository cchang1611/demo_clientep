package mx.com.procesar.aplicaciones.traspasos.pulssar.presentacion.controladores;

import java.util.ArrayList;

import javax.servlet.http.HttpServletRequest;

import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import org.springframework.stereotype.Controller;
import org.springframework.ui.ModelMap;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.ModelAttribute;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.servlet.ModelAndView;
import org.springframework.web.servlet.mvc.support.RedirectAttributes;

import mx.com.procesar.aplicaciones.traspasos.pulssar.servicios.modelo.ImagenDocumento;
import mx.com.procesar.aplicaciones.traspasos.pulssar.servicios.modelo.ImagenWrapper;



@Controller
@RequestMapping(value = {"/private"})
public class InicioController {

	private static final Logger logger = LoggerFactory.getLogger(InicioController.class);
	
	
	@GetMapping(value = "/visorImagenesTag.do")
	public ModelAndView obtenerArchivosVisor1(HttpServletRequest request, ModelMap map) {
		logger.info("visorImagenes");
		
		ImagenWrapper wrapper = new ImagenWrapper();
		
		ArrayList<ImagenDocumento> imgList = new ArrayList<>();
		ImagenDocumento img = new ImagenDocumento();
		img.setNombreDocumento("laimagen.png");
		img.setContenidoDocumento("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");
		imgList.add(img);
		
		wrapper.setImagenes(imgList);
		
		ModelAndView model = new ModelAndView("/mx/com/procesar/plataforma/servicios/visorDocumentosBanorte");
		model.addObject( "imagenWrapper", wrapper);
		return model;
	}
	
	
	
	@PostMapping(value="/redireccionaim")
	public String paotrolado(@ModelAttribute("imagenWrapper") ImagenWrapper imgList, RedirectAttributes redAttr) {
		
		redAttr.addFlashAttribute("wrapper", imgList);
		
		return "redirect:receptorImagen";
	}
	
	
}
